{"version":3,"file":"react-compare-slider.esm.js","sources":["../src/ReactCompareSliderHandle.tsx","../src/utils.ts","../src/ReactCompareSlider.tsx","../src/ReactCompareSliderImage.tsx"],"sourcesContent":["import React from 'react';\n\nimport { ReactCompareSliderCommonProps } from './types';\n\ninterface ThisArrowProps {\n  /** Whether to flip the arrow direction. */\n  flip?: boolean;\n}\n\nconst ThisArrow: React.FC<ThisArrowProps> = ({ flip }) => {\n  const style: React.CSSProperties = {\n    width: 0,\n    height: 0,\n    borderTop: '8px solid transparent',\n    borderRight: '10px solid',\n    borderBottom: '8px solid transparent',\n    transform: flip ? 'rotate(180deg)' : undefined,\n  };\n\n  return <div style={style} />;\n};\n\n/** Props for `ReactCompareSliderHandle`. */\nexport interface ReactCompareSliderHandleProps\n  extends Pick<ReactCompareSliderCommonProps, 'portrait'> {\n  /** Optional styles for handle the button. */\n  buttonStyle?: React.CSSProperties;\n  /** Optional styles for lines either side of the handle button. */\n  linesStyle?: React.CSSProperties;\n  /** Optional styles for the handle root. */\n  style?: React.CSSProperties;\n}\n\n/** Default `handle`. */\nexport const ReactCompareSliderHandle: React.FC<ReactCompareSliderHandleProps> = ({\n  portrait,\n  buttonStyle,\n  linesStyle,\n  style,\n  ...props\n}): React.ReactElement => {\n  const _style: React.CSSProperties = {\n    display: 'flex',\n    flexDirection: portrait ? 'row' : 'column',\n    placeItems: 'center',\n    height: '100%',\n    cursor: portrait ? 'ns-resize' : 'ew-resize',\n    pointerEvents: 'none',\n    color: '#fff',\n    ...style,\n  };\n\n  const _linesStyle: React.CSSProperties = {\n    flexGrow: 1,\n    height: portrait ? 2 : '100%',\n    width: portrait ? '100%' : 2,\n    backgroundColor: 'currentColor',\n    pointerEvents: 'auto',\n    boxShadow: '0 0 7px rgba(0,0,0,.35)',\n    ...linesStyle,\n  };\n\n  const _buttonStyle: React.CSSProperties = {\n    display: 'grid',\n    gridAutoFlow: 'column',\n    gap: 8,\n    placeContent: 'center',\n    flexShrink: 0,\n    width: 56,\n    height: 56,\n    borderRadius: '50%',\n    borderStyle: 'solid',\n    borderWidth: 2,\n    pointerEvents: 'auto',\n    backdropFilter: 'blur(7px)',\n    WebkitBackdropFilter: 'blur(7px)', // For Safari.\n    boxShadow: '0 0 7px rgba(0,0,0,.35)',\n    transform: portrait ? 'rotate(90deg)' : undefined,\n    ...buttonStyle,\n  };\n\n  return (\n    <div className=\"__rcs-handle-root\" {...props} style={_style}>\n      <div className=\"__rcs-handle-line\" style={_linesStyle} />\n      <div className=\"__rcs-handle-button\" style={_buttonStyle}>\n        <ThisArrow />\n        <ThisArrow flip />\n      </div>\n      <div className=\"__rcs-handle-line\" style={_linesStyle} />\n    </div>\n  );\n};\n","import { RefObject, useCallback, useEffect, useLayoutEffect, useRef } from 'react';\n\n/**\n * Stand-alone CSS utility to make replaced elements (`img`, `video`, etc.) fit their\n * container.\n */\nexport const styleFitContainer = ({\n  boxSizing = 'border-box',\n  objectFit = 'cover',\n  objectPosition = 'center',\n  ...props\n}: React.CSSProperties = {}): React.CSSProperties => ({\n  display: 'block',\n  width: '100%',\n  height: '100%',\n  maxWidth: '100%',\n  boxSizing,\n  objectFit,\n  objectPosition,\n  ...props,\n});\n\n/** Store the previous supplied value. */\nexport const usePrevious = <T>(value: T): T => {\n  const ref = useRef<T>(value);\n\n  useEffect(() => {\n    ref.current = value;\n  });\n\n  return ref.current;\n};\n\n/**\n * Event listener binding hook.\n * @param eventName      - Event to bind to.\n * @param handler        - Callback handler.\n * @param element        - Element to bind to.\n * @param handlerOptions - Event handler options.\n */\nexport const useEventListener = (\n  eventName: EventListener['name'],\n  handler: EventListener['caller'],\n  element: EventTarget,\n  handlerOptions: AddEventListenerOptions\n): void => {\n  const savedHandler = useRef<EventListener['caller']>();\n\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    // Make sure element supports addEventListener.\n    if (!(element && element.addEventListener)) return;\n\n    // Create event listener that calls handler function stored in ref.\n    const eventListener: EventListener = (event) =>\n      savedHandler.current && savedHandler.current(event);\n\n    element.addEventListener(eventName, eventListener, handlerOptions);\n\n    return (): void => {\n      element.removeEventListener(eventName, eventListener, handlerOptions);\n    };\n  }, [eventName, element, handlerOptions]);\n};\n\n/**\n * Conditionally use `useLayoutEffect` for client *or* `useEffect` for SSR.\n * @see <https://github.com/reduxjs/react-redux/blob/c581d480dd675f2645851fb006bef91aeb6ac24d/src/utils/useIsomorphicLayoutEffect.js>\n */\nexport const useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' && window.document && window.document.createElement\n    ? useLayoutEffect\n    : useEffect;\n\n/** Params passed to `useResizeObserver` `handler` function. */\nexport type UseResizeObserverHandlerParams = DOMRect;\n\n/**\n * Bind resize observer callback to element.\n * @param ref       - Element to bind to.\n * @param handler   - Callback for handling entry's bounding rect.\n */\nexport const useResizeObserver = (\n  ref: RefObject<Element>,\n  handler: (entry: UseResizeObserverHandlerParams) => void\n): void => {\n  const observer = useRef<ResizeObserver>();\n\n  const observe = useCallback(() => {\n    if (ref.current && observer.current) observer.current.observe(ref.current);\n  }, [ref]);\n\n  // Bind/rebind observer when `handler` changes.\n  useIsomorphicLayoutEffect(() => {\n    observer.current = new ResizeObserver(([entry]) => handler(entry.contentRect));\n    observe();\n\n    return (): void => {\n      if (observer.current) observer.current.disconnect();\n    };\n  }, [handler, observe]);\n};\n","import React, { forwardRef, useEffect, useCallback, useRef, useState } from 'react';\n\nimport { ReactCompareSliderHandle } from './ReactCompareSliderHandle';\nimport { ReactCompareSliderCommonProps, ReactCompareSliderPropPosition } from './types';\n\nimport {\n  useEventListener,\n  usePrevious,\n  UseResizeObserverHandlerParams,\n  useResizeObserver,\n} from './utils';\n\n/** Container for clipped item. */\nconst ThisClipContainer = forwardRef<HTMLDivElement, React.HTMLProps<HTMLDivElement>>(\n  (props, ref): React.ReactElement => {\n    const style: React.CSSProperties = {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      willChange: 'clip',\n      userSelect: 'none',\n      KhtmlUserSelect: 'none',\n      MozUserSelect: 'none',\n      WebkitUserSelect: 'none',\n    };\n\n    return <div {...props} style={style} data-rcs=\"clip-item\" ref={ref} />;\n  }\n);\n\nThisClipContainer.displayName = 'ThisClipContainer';\n\n/** Handle container to control position. */\nconst ThisHandleContainer = forwardRef<\n  HTMLDivElement,\n  React.HTMLProps<HTMLDivElement> & Pick<ReactCompareSliderCommonProps, 'portrait'>\n>(\n  ({ children, portrait }, ref): React.ReactElement => {\n    const style: React.CSSProperties = {\n      position: 'absolute',\n      top: 0,\n      width: '100%',\n      height: '100%',\n      pointerEvents: 'none',\n    };\n\n    const innerStyle: React.CSSProperties = {\n      position: 'absolute',\n      width: portrait ? '100%' : undefined,\n      height: portrait ? undefined : '100%',\n      transform: portrait ? 'translateY(-50%)' : 'translateX(-50%)',\n      pointerEvents: 'all',\n    };\n\n    return (\n      <div style={style} data-rcs=\"handle-container\" ref={ref}>\n        <div style={innerStyle}>{children}</div>\n      </div>\n    );\n  }\n);\n\nThisHandleContainer.displayName = 'ThisHandleContainer';\n\n/** Comparison slider properties. */\nexport interface ReactCompareSliderProps extends Partial<ReactCompareSliderCommonProps> {\n  /** Padding to limit the slideable bounds in pixels on the X-axis (landscape) or Y-axis (portrait). */\n  boundsPadding?: number;\n  /** Whether the slider should follow the pointer on hover. */\n  changePositionOnHover?: boolean;\n  /** Custom handle component. */\n  handle?: React.ReactNode;\n  /** First item to show. */\n  itemOne: React.ReactNode;\n  /** Second item to show. */\n  itemTwo: React.ReactNode;\n  /** Whether to only change position when handle is interacted with (useful for touch devices). */\n  onlyHandleDraggable?: boolean;\n  /** Callback on position change with position as percentage. */\n  onPositionChange?: (position: ReactCompareSliderPropPosition) => void;\n}\n\n/** Properties for internal `updateInternalPosition` callback. */\ninterface UpdateInternalPositionProps\n  extends Required<Pick<ReactCompareSliderProps, 'boundsPadding' | 'portrait'>> {\n  /** X coordinate to update to (landscape). */\n  x: number;\n  /** Y coordinate to update to (portrait). */\n  y: number;\n  /** Whether to calculate using page X and Y offsets (required for pointer events). */\n  isOffset?: boolean;\n}\n\nconst EVENT_PASSIVE_PARAMS = { passive: true };\nconst EVENT_CAPTURE_PARAMS = { capture: true, passive: false };\n\n/** Root Comparison slider. */\nexport const ReactCompareSlider: React.FC<\n  ReactCompareSliderProps & React.HtmlHTMLAttributes<HTMLDivElement>\n> = ({\n  handle,\n  itemOne,\n  itemTwo,\n  onlyHandleDraggable = false,\n  onPositionChange,\n  portrait = false,\n  position = 50,\n  boundsPadding = 0,\n  changePositionOnHover = false,\n  style,\n  ...props\n}): React.ReactElement => {\n  /** DOM node of the root element. */\n  const rootContainerRef = useRef<HTMLDivElement>(null);\n  /** DOM node of the item that is clipped. */\n  const clipContainerRef = useRef<HTMLDivElement>(null);\n  /** DOM node of the handle container. */\n  const handleContainerRef = useRef<HTMLDivElement>(null);\n  /** Current position as a percentage value (initially negative to sync bounds on mount). */\n  const internalPositionPc = useRef(position);\n  /** Previous `position` prop value. */\n  const prevPropPosition = usePrevious(position);\n  /** Whether user is currently dragging. */\n  const [isDragging, setIsDragging] = useState(false);\n  /** Whether component has a `window` event binding. */\n  const hasWindowBinding = useRef(false);\n  /** Target container for pointer events. */\n  const [interactiveTarget, setInteractiveTarget] = useState<HTMLDivElement | null>();\n  /** Whether the bounds of the container element have been synchronised. */\n  const [didSyncBounds, setDidSyncBounds] = useState(false);\n\n  // Set target container for pointer events.\n  useEffect(() => {\n    setInteractiveTarget(\n      onlyHandleDraggable ? handleContainerRef.current : rootContainerRef.current\n    );\n  }, [onlyHandleDraggable]);\n\n  /** Update internal position value. */\n  const updateInternalPosition = useCallback(\n    function updateInternalCall({\n      x,\n      y,\n      isOffset,\n      portrait: _portrait,\n      boundsPadding: _boundsPadding,\n    }: UpdateInternalPositionProps) {\n      const {\n        top,\n        left,\n        width,\n        height,\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      } = rootContainerRef.current!.getBoundingClientRect();\n\n      // Early out if width or height are zero, can't calculate values\n      // from zeros.\n      if (width === 0 || height === 0) return;\n\n      /**\n       * Pixel position clamped within the container's bounds.\n       * @NOTE This does *not* take `boundsPadding` into account because we need\n       *       the full coords to correctly position the handle.\n       */\n      const positionPx = Math.min(\n        Math.max(\n          // Determine bounds based on orientation\n          _portrait\n            ? isOffset\n              ? y - top - window.pageYOffset\n              : y\n            : isOffset\n            ? x - left - window.pageXOffset\n            : x,\n          // Min value\n          0\n        ),\n        // Max value\n        _portrait ? height : width\n      );\n\n      /**\n       * Internal position percentage *without* bounds.\n       * @NOTE This uses the entire container bounds **without** `boundsPadding`\n       *       to get the *real* bounds.\n       */\n      const nextInternalPositionPc = (positionPx / (_portrait ? height : width)) * 100;\n\n      /** Whether the current pixel position meets the min/max bounds. */\n      const positionMeetsBounds = _portrait\n        ? positionPx === 0 || positionPx === height\n        : positionPx === 0 || positionPx === width;\n\n      const canSkipPositionPc =\n        nextInternalPositionPc === internalPositionPc.current &&\n        (internalPositionPc.current === 0 || internalPositionPc.current === 100);\n\n      // Early out if pixel and percentage positions are already at the min/max\n      // to prevent update spamming when the user is sliding outside of the\n      // container.\n      if (didSyncBounds && canSkipPositionPc && positionMeetsBounds) {\n        return;\n      } else {\n        setDidSyncBounds(true);\n      }\n\n      // Set new internal position.\n      internalPositionPc.current = nextInternalPositionPc;\n\n      /** Pixel position clamped to extremities *with* bounds padding. */\n      const clampedPx = Math.min(\n        // Get largest from pixel position *or* bounds padding.\n        Math.max(positionPx, 0 + _boundsPadding),\n        // Use height *or* width based on orientation.\n        (_portrait ? height : width) - _boundsPadding\n      );\n\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      clipContainerRef.current!.style.clip = _portrait\n        ? `rect(auto,auto,${clampedPx}px,auto)`\n        : `rect(auto,${clampedPx}px,auto,auto)`;\n\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      handleContainerRef.current!.style.transform = _portrait\n        ? `translate3d(0,${clampedPx}px,0)`\n        : `translate3d(${clampedPx}px,0,0)`;\n\n      if (onPositionChange) onPositionChange(internalPositionPc.current);\n    },\n    [didSyncBounds, onPositionChange]\n  );\n\n  // Update internal position when other user controllable props change.\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const { width, height } = rootContainerRef.current!.getBoundingClientRect();\n\n    // Use current internal position if `position` hasn't changed.\n    const nextPosition =\n      position === prevPropPosition ? internalPositionPc.current : position;\n\n    updateInternalPosition({\n      portrait,\n      boundsPadding,\n      x: (width / 100) * nextPosition,\n      y: (height / 100) * nextPosition,\n    });\n  }, [portrait, position, prevPropPosition, boundsPadding, updateInternalPosition]);\n\n  /** Handle mouse/touch down. */\n  const handlePointerDown = useCallback(\n    (ev: MouseEvent | TouchEvent) => {\n      ev.preventDefault();\n\n      updateInternalPosition({\n        portrait,\n        boundsPadding,\n        isOffset: true,\n        x: ev instanceof MouseEvent ? ev.pageX : ev.touches[0].pageX,\n        y: ev instanceof MouseEvent ? ev.pageY : ev.touches[0].pageY,\n      });\n\n      setIsDragging(true);\n    },\n    [portrait, boundsPadding, updateInternalPosition]\n  );\n\n  /** Handle mouse/touch move. */\n  const handlePointerMove = useCallback(\n    function moveCall(ev: MouseEvent | TouchEvent) {\n      updateInternalPosition({\n        portrait,\n        boundsPadding,\n        isOffset: true,\n        x: ev instanceof MouseEvent ? ev.pageX : ev.touches[0].pageX,\n        y: ev instanceof MouseEvent ? ev.pageY : ev.touches[0].pageY,\n      });\n    },\n    [portrait, boundsPadding, updateInternalPosition]\n  );\n\n  /** Handle mouse/touch up. */\n  const handlePointerUp = useCallback(() => {\n    setIsDragging(false);\n  }, []);\n\n  /** Resync internal position on resize. */\n  const handleResize = useCallback(\n    ({ width, height }: UseResizeObserverHandlerParams) => {\n      updateInternalPosition({\n        portrait,\n        boundsPadding,\n        x: (width / 100) * internalPositionPc.current,\n        y: (height / 100) * internalPositionPc.current,\n      });\n    },\n    [portrait, boundsPadding, updateInternalPosition]\n  );\n\n  // Allow drag outside of container while pointer is still down.\n  useEffect(() => {\n    if (isDragging && !hasWindowBinding.current) {\n      window.addEventListener('mousemove', handlePointerMove, EVENT_PASSIVE_PARAMS);\n      window.addEventListener('mouseup', handlePointerUp, EVENT_PASSIVE_PARAMS);\n      window.addEventListener('touchmove', handlePointerMove, EVENT_PASSIVE_PARAMS);\n      window.addEventListener('touchend', handlePointerUp, EVENT_PASSIVE_PARAMS);\n      hasWindowBinding.current = true;\n    }\n\n    return (): void => {\n      if (hasWindowBinding.current) {\n        window.removeEventListener('mousemove', handlePointerMove);\n        window.removeEventListener('mouseup', handlePointerUp);\n        window.removeEventListener('touchmove', handlePointerMove);\n        window.removeEventListener('touchend', handlePointerUp);\n        hasWindowBinding.current = false;\n      }\n    };\n  }, [handlePointerMove, handlePointerUp, isDragging]);\n\n  // Bind resize observer to container.\n  useResizeObserver(rootContainerRef, handleResize);\n\n  // Handle hover events on the container.\n  useEffect(() => {\n    const containerRef = rootContainerRef.current!;\n\n    const handleMouseLeave = () => {\n      if (isDragging) return;\n      handlePointerUp();\n    };\n\n    if (changePositionOnHover) {\n      containerRef.addEventListener('mousemove', handlePointerMove, EVENT_PASSIVE_PARAMS);\n      containerRef.addEventListener('mouseleave', handleMouseLeave, EVENT_PASSIVE_PARAMS);\n    }\n\n    return () => {\n      containerRef.removeEventListener('mousemove', handlePointerMove);\n      containerRef.removeEventListener('mouseleave', handleMouseLeave);\n    };\n  }, [changePositionOnHover, handlePointerMove, handlePointerUp, isDragging]);\n\n  useEventListener(\n    'mousedown',\n    handlePointerDown,\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    interactiveTarget!,\n    EVENT_CAPTURE_PARAMS\n  );\n\n  useEventListener(\n    'touchstart',\n    handlePointerDown,\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    interactiveTarget!,\n    EVENT_CAPTURE_PARAMS\n  );\n\n  // Use custom handle if requested.\n  const Handle = handle || <ReactCompareSliderHandle portrait={portrait} />;\n\n  const rootStyle: React.CSSProperties = {\n    position: 'relative',\n    overflow: 'hidden',\n    cursor: isDragging ? (portrait ? 'ns-resize' : 'ew-resize') : undefined,\n    userSelect: 'none',\n    KhtmlUserSelect: 'none',\n    msUserSelect: 'none',\n    MozUserSelect: 'none',\n    WebkitUserSelect: 'none',\n    ...style,\n  };\n\n  return (\n    <div {...props} ref={rootContainerRef} style={rootStyle} data-rcs=\"root\">\n      {itemTwo}\n      <ThisClipContainer ref={clipContainerRef}>{itemOne}</ThisClipContainer>\n      <ThisHandleContainer portrait={portrait} ref={handleContainerRef}>\n        {Handle}\n      </ThisHandleContainer>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { styleFitContainer } from './utils';\n\n/** Props for `ReactCompareSliderImage`. */\nexport type ReactCompareSliderImageProps = React.ImgHTMLAttributes<HTMLImageElement>;\n\n/** Image with defaults from `styleFitContainer` applied. */\nexport const ReactCompareSliderImage: React.FC<ReactCompareSliderImageProps> = ({\n  style,\n  ...props\n}): React.ReactElement => {\n  const rootStyle: React.CSSProperties = styleFitContainer(style);\n\n  return <img {...props} style={rootStyle} data-rcs=\"image\" />;\n};\n"],"names":["ThisArrow","flip","style","width","height","borderTop","borderRight","borderBottom","transform","undefined","React","ReactCompareSliderHandle","portrait","buttonStyle","linesStyle","props","_style","display","flexDirection","placeItems","cursor","pointerEvents","color","_linesStyle","flexGrow","backgroundColor","boxShadow","_buttonStyle","gridAutoFlow","gap","placeContent","flexShrink","borderRadius","borderStyle","borderWidth","backdropFilter","WebkitBackdropFilter","className","styleFitContainer","boxSizing","objectFit","objectPosition","maxWidth","usePrevious","value","ref","useRef","useEffect","current","useEventListener","eventName","handler","element","handlerOptions","savedHandler","addEventListener","eventListener","event","removeEventListener","useIsomorphicLayoutEffect","window","document","createElement","useLayoutEffect","useResizeObserver","observer","observe","useCallback","ResizeObserver","entry","contentRect","disconnect","ThisClipContainer","forwardRef","position","top","left","willChange","userSelect","KhtmlUserSelect","MozUserSelect","WebkitUserSelect","displayName","ThisHandleContainer","children","innerStyle","EVENT_PASSIVE_PARAMS","passive","EVENT_CAPTURE_PARAMS","capture","ReactCompareSlider","handle","itemOne","itemTwo","onlyHandleDraggable","onPositionChange","boundsPadding","changePositionOnHover","rootContainerRef","clipContainerRef","handleContainerRef","internalPositionPc","prevPropPosition","isDragging","setIsDragging","useState","hasWindowBinding","interactiveTarget","setInteractiveTarget","didSyncBounds","setDidSyncBounds","updateInternalPosition","updateInternalCall","x","y","isOffset","_portrait","_boundsPadding","getBoundingClientRect","positionPx","Math","min","max","pageYOffset","pageXOffset","nextInternalPositionPc","positionMeetsBounds","canSkipPositionPc","clampedPx","clip","nextPosition","handlePointerDown","ev","preventDefault","MouseEvent","pageX","touches","pageY","handlePointerMove","moveCall","handlePointerUp","handleResize","containerRef","handleMouseLeave","Handle","rootStyle","overflow","msUserSelect","ReactCompareSliderImage"],"mappings":"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"}